<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Form Validation</title>
        <style>
            label {
                display: block;
                margin-top: 5px;
            }
            .valid {
                color: green;
            }
            .valid:before {
                content: "\2713";
            }

            .invalid {
                color: red;
            }
            #submitBtn {
                display: block;
                margin-top: 5px;
            }
            .btn {
                background-color: white;
                color: black;
                border: 2px solid #2dadd8;
                border-radius: 5px;
                margin: 4px 2px;
                transition-duration: 0.4s;
            }
            .btn:hover {
                background-color: #2dadd8;
                color:white;

            }
        </style>
        <script>
            let regex = /^[a-zA-Z]+$/i; //regular expression that only allows for any mix of upper and lower case characters from the english alphabet
            let idRegex = /^\d{9}$/; //regular expression that only allows number inputs that are 9 digits long
            let passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).*$/; //regular expression that looks for at least one uppercase, one lowercase, and one digit
            //error function to change background color
            function error(){
                document.body.style.backgroundColor = "#ff8f98";
            }
            //Username Conditions: can only contain alphabetical english characters
            function usernameCondition() {
                var userValid = regex.test(document.getElementById("user").value);
                console.log("usernameCondition activated")
                if(!userValid){
                    document.getElementById("nameMsg").innerHTML = "Error: Username can only contain alphabet characters! >:(";
                    document.getElementById("nameMsg").className = "invalid";
                    error();
                }
                else{
                    document.getElementById("nameMsg").innerHTML = "Success :)";
                    document.getElementById("nameMsg").className = "valid";
                }
            }
            function passwordCondition() {
                console.log("passwordCondition activated");
                var validPassword = passwordRegex.test(document.getElementById("pass").value);
                if(!validPassword){
                    document.getElementById("passMsg").innerHTML = "Error:  >:(";
                    document.getElementById("passMsg").className = "invalid";
                    error();
                }
                else{
                    document.getElementById("passMsg").innerHTML = "Success :)";
                    document.getElementById("passMsg").className = "valid";
                }
                
            }
            //Sudent ID conditions: can only contain numbers 9 digits long
            function studentNumberCondition() {
                console.log("studentID Condition Activated")
                var validID = idRegex.test(document.getElementById("stuIdentity").value);
                if(!validID){
                    document.getElementById("stuIdentityMsg").innerHTML = "Error: Student ID can only contain numbers and must be 9 digits long! >:(";
                    document.getElementById("stuIdentityMsg").className = "invalid";
                    error();
                }
                else{
                    document.getElementById("stuIdentityMsg").innerHTML = "Success :)";
                    document.getElementById("stuIdentityMsg").className = "valid";
                }
            }
            function formValidation() {
                console.log("DOM Ready, Script is safe to use! :)");
                var button = document.getElementById('submitBtn');
                button.addEventListener("click", () => {
                    usernameCondition();
                    passwordCondition();
                    studentNumberCondition();
                });
            }
            window.addEventListener("load", formValidation);
        </script>
    </head>
    <body>
        <form>
            <!--Username Field-->
            <label for="user">Username:</label>
            <input type="text" id="user" placeholder="josham">
            <span id="nameMsg"></span>
            <!--Password Field-->
            <label for="pass">Password:</label>
            <input type="password" id="pass">
            <span id="passMsg"></span>
            <!--Student ID Field-->
            <label for="stuIdentity">Student ID:</label>
            <input type="text" id="stuIdentity" maxlength="9" placeholder="009734628">
            <span id="stuIdentityMsg"></span>
            <!--Message Field-->
            <label for="msg">Write a message:</label>
            <textarea id="msg" cols="30" rows="10" placeholder="Write a message here . . . :)"></textarea>
            <input id="submitBtn" class="btn" type="button" value="Submit">
        </form>
    </body>
</html>